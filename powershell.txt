# ğŸ”¹ API ì£¼ì†Œ ì„¤ì •
$uri = "https://gemini-adalo-api.onrender.com/api/correct"

# ğŸ”¹ ìš”ì²­ í—¤ë” ì„¤ì • (UTF-8 ëª…ì‹œ)
$headers = @{
    "Content-Type" = "application/json; charset=utf-8"
    "Accept-Charset" = "UTF-8"
}

# ğŸ”¹ ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
$text = Read-Host "êµì •í•  ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”"

# ğŸ”¹ JSON ë³¸ë¬¸ ìƒì„± (PowerShell 7ì—ì„œëŠ” Encoding ì˜µì…˜ í•„ìš” ì—†ìŒ)
$body = @{ text = $text } | ConvertTo-Json

# ğŸ”¹ UTF-8ë¡œ ì¸ì½”ë”©ëœ ë°”ì´íŠ¸ ë°°ì—´ë¡œ ë³€í™˜ (ëª…ì‹œì ìœ¼ë¡œ UTF-8 ì ìš©)
$bodyBytes = [System.Text.Encoding]::UTF8.GetBytes($body)

# ğŸ”¹ API í˜¸ì¶œ (UTF-8 ëª…ì‹œ & ë§¤ë²ˆ ìƒˆë¡œìš´ ì„¸ì…˜)
$response = Invoke-WebRequest -Uri $uri -Method POST -Headers $headers -Body $bodyBytes -UseBasicParsing

# ğŸ”¹ JSON ì‘ë‹µ íŒŒì‹±
$json = $response.Content | ConvertFrom-Json


Write-Host "`nğŸ§¾ ì›ë¬¸:" $json.original
Write-Host "âœ… êµì •ëœ ë¬¸ì¥:" $json.corrected
Write-Host "ğŸ“˜ êµì • ì´ìœ :" $json.reason

# í•´ë‹¹ ì½”ë“œëŠ” chat gptê°€ ì œì‘í•œ ì½”ë“œì…ë‹ˆë‹¤. ìµœëŒ€í•œ ì§ì ‘ í•´ë³¼ë ¤ê³  ë…¸ë ¥í–ˆëŠ”ë° ë…í•™ìœ¼ë¡œ ê³µë¶€í•˜ëŠ” ê±°ë¼ ì´ê±°ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ í•˜ê¸´ ë„ˆë¬´ í˜ë“¤ì—ˆì–´ìš”ã… ã… 
