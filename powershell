# UTF-8 고정 인코딩
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
$OutputEncoding = [System.Text.Encoding]::UTF8

# 보낼 텍스트를 UTF-8 JSON으로 직접 인코딩
$uri = "https://gemini-adalo-api.onrender.com/api/correct"
$text = "오늘 너무 피곤하다"
$body = @{ text = $text } | ConvertTo-Json -Depth 3
$bytes = [System.Text.Encoding]::UTF8.GetBytes($body)

$response = Invoke-WebRequest -Uri $uri `
  -Method POST `
  -Headers @{ "Content-Type" = "application/json; charset=utf-8" } `
  -Body $bytes

$json = $response.Content | ConvertFrom-Json
$json
